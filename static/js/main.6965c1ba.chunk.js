(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,n){e.exports=n(39)},29:function(e,t,n){},30:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(13),c=n.n(r),s=(n(29),n(1)),u=n(2),i=n(6),l=n(3),d=n(5),p=(n(30),n(4)),f=n(11),m=n(21),O=n(22),E=n(7),h={HAVE_FOOD:"f",HAVE_SNAKE:"s",HAVE_NOTHING:""},v={LEFT:{row:0,column:-1,value:"LEFT",reverse:"RIGHT"},RIGHT:{row:0,column:1,value:"RIGHT",reverse:"LEFT"},UP:{row:-1,column:0,value:"UP",reverse:"DOWN"},DOWN:{row:1,column:0,value:"DOWN",reverse:"UP"}},I=function(e,t){return(e%t+t)%t},b=Object(E.fromJS)({snake:[],cellMatrix:[],foodPos:{row:null,column:null},direction:v.RIGHT.value,score:0,snakeOverlapped:!1}),k=Object(O.combineReducers)({boardInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZE_CELL_STATE":var n=t.payload,o=n.row,a=n.column;return e.setIn(["cellMatrix",o,a],h.HAVE_NOTHING);case"INITIALIZE_SNAKE":for(var r=Object(E.fromJS)(t.payload),c=0;c<t.payload.length;c++)e=e.setIn(["cellMatrix",t.payload[c].row,t.payload[c].column],h.HAVE_SNAKE);return e.setIn(["snake"],r);case"SET_FOOD_LOCATION":var s=t.payload.row,u=t.payload.column;return e.setIn(["foodPos","row"],s).setIn(["foodPos","column"],u).setIn(["cellMatrix",s,u],h.HAVE_FOOD);case"MOVE_SNAKE":if(e.get("snakeOverlapped"))return e;var i=e.getIn(["snake",0,"row"]),l=e.getIn(["snake",0,"column"]),d=e.get("snake").last().get("row"),p=e.get("snake").last().get("column"),f=v[e.getIn(["direction"])],m={row:I(i+f.row,20),column:I(l+f.column,20)};return function(e,t){return e.findIndex(function(e){return e.get("row")===t.row&&e.get("column")===t.column})>-1}(e.get("snake"),m)?e.setIn(["snakeOverlapped"],!0):(e.getIn(["foodPos","row"])===m.row&&e.getIn(["foodPos","column"])===m.column&&(e=e.updateIn(["score"],function(e){return e+10})),e.setIn(["cellMatrix",m.row,m.column],h.HAVE_SNAKE).setIn(["cellMatrix",d,p],h.HAVE_NOTHING).updateIn(["snake"],function(e){return e.pop().unshift(Object(E.fromJS)(m))}));case"INCREASE_SNAKE_LENGTH":return e.updateIn(["snake"],function(e){return e.push(Object(E.fromJS)(e.last().toJS()))});case"CHANGE_SNAKE_DIRECTION":return v[t.payload.value].reverse===e.get("direction")?e:e.set("direction",t.payload.value);default:return e}}}),w=Object(E.Map)({}),S=[m.a],N=Object(f.d)(k,w,Object(f.c)(f.a.apply(void 0,S),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),y=n(23),_=n(9),j=n(12),A=Object(j.a)(function(e,t){return e.getIn(["boardInfo","cellMatrix",t.row,t.column])},function(e){return e}),g=function(e){function t(e){var n;Object(s.a)(this,t),n=Object(i.a)(this,Object(l.a)(t).call(this));var o=e.snake.findIndex(function(t){return t.row===e.row&&t.column===e.column})>-1;return n.state={row:e.row,column:e.column,value:o?h.HAVE_SNAKE:e.foodCell?h.HAVE_FOOD:h.HAVE_NOTHING},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e,t){var n=this;this.props.snake.findIndex(function(e){return e.row===n.state.row&&e.column===n.state.column})>-1?this.setState({value:h.HAVE_SNAKE}):this.props.foodCell?this.setState({value:h.HAVE_FOOD}):this.setState({value:h.HAVE_NOTHING})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.row,n=e.column;this.props.initializeCell({row:t,column:n})}},{key:"render",value:function(){var e=this.props.cellState;return a.a.createElement("div",{className:"cell"},e)}}]),t}(o.PureComponent),T=Object(p.b)(function(e,t){return{cellState:A(e,t)}},{initializeCell:function(e){return function(t){t({type:"INITIALIZE_CELL_STATE",payload:e})}}})(g),H=Object(j.a)(function(e){return e.getIn(["boardInfo","score"])},function(e){return e}),D=Object(j.a)(function(e){return e.getIn(["boardInfo","snakeOverlapped"])},function(e){return e}),C=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(i.a)(this,Object(l.a)(t).call(this))).state={rows:e.size.rows,columns:e.size.columns,snake:[{row:1,column:2},{row:1,column:1}],intervalId:null,foodPos:{row:8,column:2}},n.moveSnake=n.moveSnake.bind(Object(_.a)(n)),n.growSnake=n.growSnake.bind(Object(_.a)(n)),n.generateFood=n.generateFood.bind(Object(_.a)(n)),n.startTheGame=n.startTheGame.bind(Object(_.a)(n)),n.keyPressed=n.keyPressed.bind(Object(_.a)(n));var o=n.state,r=o.rows,c=o.columns,u=o.snake,d=o.foodPos,p=r*c;return n.cellUnits=Object(y.a)(Array(p)).map(function(e,t){var n=Math.floor(t/c),o=t%c,r=n===d.row&&o===d.column;return a.a.createElement(T,{row:n,column:o,key:t,snake:u,foodCell:r})}),n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"moveSnake",value:function(){this.props.moveSnake()}},{key:"growSnake",value:function(){this.generateFood(),this.props.increaseSnake()}},{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.startTheGame()},5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.intervalId)}},{key:"generateFood",value:function(){var e={row:Math.floor(Math.random()*Math.floor(this.state.rows)),column:Math.floor(Math.random()*Math.floor(this.state.columns))};this.setState({foodPos:e}),this.props.setFood(e)}},{key:"startTheGame",value:function(){this.props.setSnake(this.state.snake),this.props.setFood(this.state.foodPos);var e=setInterval(this.moveSnake,100);this.setState({intervalId:e})}},{key:"keyPressed",value:function(e){switch(e.stopPropagation(),e.keyCode){case 37:this.props.changeSnakeDirection(v.LEFT);break;case 39:this.props.changeSnakeDirection(v.RIGHT);break;case 38:this.props.changeSnakeDirection(v.UP);break;case 40:this.props.changeSnakeDirection(v.DOWN)}}},{key:"componentDidUpdate",value:function(e,t){this.props.score>e.score&&this.growSnake()}},{key:"render",value:function(){return a.a.createElement("div",{className:"main-game-board",onKeyDown:this.keyPressed,tabIndex:"0"},this.cellUnits)}}]),t}(o.PureComponent),G=Object(p.b)(function(e){return{score:H(e),snakeOverlapped:D(e)}},{setSnake:function(e){return function(t){t({type:"INITIALIZE_SNAKE",payload:e})}},setFood:function(e){return function(t){t({type:"SET_FOOD_LOCATION",payload:e})}},moveSnake:function(){return function(e){e({type:"MOVE_SNAKE"})}},increaseSnake:function(){return function(e){e({type:"INCREASE_SNAKE_LENGTH"})}},changeSnakeDirection:function(e){return function(t){t({type:"CHANGE_SNAKE_DIRECTION",payload:e})}}})(C),M=function(e){var t=e.board_size;return a.a.createElement(G,{size:t})},P=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.score;return a.a.createElement("div",{className:"scoreboard"},a.a.createElement("h3",null,"SCORE: ",e," "))}}]),t}(o.PureComponent),V=Object(p.b)(function(e){return{score:H(e)}},{})(P),L=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.over;return a.a.createElement("div",null,!e&&a.a.createElement("h3",null," GAME RUNNING"),e&&a.a.createElement("h1",null,"###### GAME OVER #####"))}}]),t}(o.Component),F=Object(p.b)(function(e){return{over:D(e)}},{})(L),R=function(){return a.a.createElement("div",null,a.a.createElement(F,null),a.a.createElement(V,null))},K={rows:20,columns:20},x=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(p.a,{store:N},a.a.createElement("div",{className:"App test"},a.a.createElement(M,{board_size:K}),a.a.createElement(R,null)))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,1,2]]]);
//# sourceMappingURL=main.6965c1ba.chunk.js.map