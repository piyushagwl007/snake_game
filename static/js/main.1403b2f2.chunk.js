(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,n){e.exports=n(39)},29:function(e,t,n){},30:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(11),c=n.n(r),s=(n(29),n(1)),u=n(2),i=n(6),l=n(3),m=n(5),d=(n(30),n(4)),f=n(12),p=n(21),h=n(22),O=n(7),E={HAVE_FOOD:"f",HAVE_SNAKE:"s",HAVE_NOTHING:""},v={LEFT:{row:0,column:-1,value:"LEFT",reverse:"RIGHT"},RIGHT:{row:0,column:1,value:"RIGHT",reverse:"LEFT"},UP:{row:-1,column:0,value:"UP",reverse:"DOWN"},DOWN:{row:1,column:0,value:"DOWN",reverse:"UP"}},b=function(e,t){return(e%t+t)%t},k=Object(O.fromJS)({snake:[],cellMatrix:[],foodPos:{row:null,column:null},direction:v.RIGHT.value,score:0,snakeOverlapped:!1}),I=Object(O.fromJS)({gameStarted:!1}),S=Object(h.combineReducers)({boardInfo:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case"INITIALIZE_CELL_STATE":var a=o.payload,r=a.row,c=a.column;return n.setIn(["cellMatrix",r,c],E.HAVE_NOTHING);case"INITIALIZE_SNAKE":for(var s=Object(O.fromJS)(o.payload),u=0;u<o.payload.length;u++)n=n.setIn(["cellMatrix",o.payload[u].row,o.payload[u].column],E.HAVE_SNAKE);return n.setIn(["snake"],s);case"SET_FOOD_LOCATION":var i=(e=n.get("snake"),t=o.payload,e.forEach(function(e){e.get("row")===t.row&&e.get("column")===t.column&&(t.row=Math.floor(Math.random()*Math.floor(20)),t.column=Math.floor(Math.random()*Math.floor(20)))}),t);return n.setIn(["foodPos","row"],i.row).setIn(["foodPos","column"],i.column).setIn(["cellMatrix",i.row,i.column],E.HAVE_FOOD);case"MOVE_SNAKE":if(n.get("snakeOverlapped"))return n;var l=n.getIn(["snake",0,"row"]),m=n.getIn(["snake",0,"column"]),d=n.get("snake").last().get("row"),f=n.get("snake").last().get("column"),p=v[n.getIn(["direction"])],h={row:b(l+p.row,20),column:b(m+p.column,20)};return function(e,t){return e.findIndex(function(e){return e.get("row")===t.row&&e.get("column")===t.column})>-1}(n.get("snake"),h)?n.setIn(["snakeOverlapped"],!0):(n.getIn(["foodPos","row"])===h.row&&n.getIn(["foodPos","column"])===h.column&&(n=n.updateIn(["score"],function(e){return e+10})),n.setIn(["cellMatrix",h.row,h.column],E.HAVE_SNAKE).setIn(["cellMatrix",d,f],E.HAVE_NOTHING).updateIn(["snake"],function(e){return e.pop().unshift(Object(O.fromJS)(h))}));case"INCREASE_SNAKE_LENGTH":return n.updateIn(["snake"],function(e){return e.push(Object(O.fromJS)(e.last().toJS()))});case"CHANGE_SNAKE_DIRECTION":return v[o.payload.value].reverse===n.get("direction")?n:n.set("direction",o.payload.value);default:return n}},gameState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;switch((arguments.length>1?arguments[1]:void 0).type){case"START_THE_GAME":return e.set("gameStarted",!0);case"STOP_THE_GAME":return e.set("gameStarted",!1);default:return e}}}),w=Object(O.Map)({}),j=[p.a],_=Object(f.d)(S,w,Object(f.c)(f.a.apply(void 0,j),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),T=n(23),y=n(8),N=n(13),g=Object(N.a)(function(e,t){return e.getIn(["boardInfo","cellMatrix",t.row,t.column])},function(e){return e}),A=function(e){function t(e){var n;Object(s.a)(this,t),n=Object(i.a)(this,Object(l.a)(t).call(this));var o=e.snake.findIndex(function(t){return t.row===e.row&&t.column===e.column})>-1;return n.state={row:e.row,column:e.column,value:o?E.HAVE_SNAKE:e.foodCell?E.HAVE_FOOD:E.HAVE_NOTHING},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e,t){var n=this;this.props.snake.findIndex(function(e){return e.row===n.state.row&&e.column===n.state.column})>-1?this.setState({value:E.HAVE_SNAKE}):this.props.foodCell?this.setState({value:E.HAVE_FOOD}):this.setState({value:E.HAVE_NOTHING})}},{key:"componentDidMount",value:function(){var e=this.props,t=e.row,n=e.column;this.props.initializeCell({row:t,column:n})}},{key:"render",value:function(){var e=this.props.cellState;return a.a.createElement("div",{className:"cell "+e})}}]),t}(o.PureComponent),G=Object(d.b)(function(e,t){return{cellState:g(e,t)}},{initializeCell:function(e){return function(t){t({type:"INITIALIZE_CELL_STATE",payload:e})}}})(A),H=Object(N.a)(function(e){return e.getIn(["boardInfo","score"])},function(e){return e}),M=Object(N.a)(function(e){return e.getIn(["boardInfo","snakeOverlapped"])},function(e){return e}),D=Object(N.a)(function(e){return e.getIn(["gameState","gameStarted"])},function(e){return e}),C=function(e){function t(e){var n;Object(s.a)(this,t),(n=Object(i.a)(this,Object(l.a)(t).call(this))).state={rows:e.size.rows,columns:e.size.columns,snake:[{row:1,column:2},{row:1,column:1}],intervalId:null,foodPos:{row:8,column:2}},n.moveSnake=n.moveSnake.bind(Object(y.a)(n)),n.growSnake=n.growSnake.bind(Object(y.a)(n)),n.generateFood=n.generateFood.bind(Object(y.a)(n)),n.startTheGame=n.startTheGame.bind(Object(y.a)(n)),n.keyPressed=n.keyPressed.bind(Object(y.a)(n));var o=n.state,r=o.rows,c=o.columns,u=o.snake,m=o.foodPos,d=r*c;return n.cellUnits=Object(T.a)(Array(d)).map(function(e,t){var n=Math.floor(t/c),o=t%c,r=n===m.row&&o===m.column;return a.a.createElement(G,{row:n,column:o,key:t,snake:u,foodCell:r})}),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"moveSnake",value:function(){this.props.moveSnake()}},{key:"growSnake",value:function(){this.generateFood(),this.props.increaseSnake()}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.intervalId)}},{key:"generateFood",value:function(){var e={row:Math.floor(Math.random()*Math.floor(this.state.rows)),column:Math.floor(Math.random()*Math.floor(this.state.columns))};this.setState({foodPos:e}),this.props.setFood(e)}},{key:"startTheGame",value:function(){c.a.findDOMNode(this.refs.theDiv).focus(),this.props.setSnake(this.state.snake),this.props.setFood(this.state.foodPos);var e=setInterval(this.moveSnake,100);this.setState({intervalId:e})}},{key:"keyPressed",value:function(e){switch(e.stopPropagation(),e.keyCode){case 37:this.props.changeSnakeDirection(v.LEFT);break;case 39:this.props.changeSnakeDirection(v.RIGHT);break;case 38:this.props.changeSnakeDirection(v.UP);break;case 40:this.props.changeSnakeDirection(v.DOWN)}}},{key:"componentDidUpdate",value:function(e,t){this.props.score>e.score&&this.growSnake(),this.props.started&&!e.started&&this.startTheGame()}},{key:"render",value:function(){return a.a.createElement("div",{className:"main-game-board",onKeyDown:this.keyPressed,tabIndex:"0",ref:"theDiv"},this.cellUnits)}}]),t}(o.PureComponent),P=Object(d.b)(function(e){return{score:H(e),snakeOverlapped:M(e),started:D(e)}},{setSnake:function(e){return function(t){t({type:"INITIALIZE_SNAKE",payload:e})}},setFood:function(e){return function(t){t({type:"SET_FOOD_LOCATION",payload:e})}},moveSnake:function(){return function(e){e({type:"MOVE_SNAKE"})}},increaseSnake:function(){return function(e){e({type:"INCREASE_SNAKE_LENGTH"})}},changeSnakeDirection:function(e){return function(t){t({type:"CHANGE_SNAKE_DIRECTION",payload:e})}}})(C),V=function(e){var t=e.board_size;return a.a.createElement(P,{size:t})},L=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.score;return a.a.createElement("div",{className:"scoreboard"},a.a.createElement("h3",null,"SCORE: ",e," "))}}]),t}(o.PureComponent),F=Object(d.b)(function(e){return{score:H(e)}},{})(L),R=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.over;return a.a.createElement("div",null,!e&&a.a.createElement("h3",null," GAME RUNNING"),e&&a.a.createElement("h3",null,"###### GAME OVER #####"))}}]),t}(o.Component),K=Object(d.b)(function(e){return{over:M(e)}},{})(R),x=function(e){var t=e.name,n=e.action,o=e.classes;return a.a.createElement("div",null,a.a.createElement("button",{onClick:n,className:"btn "+o},t))},U=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(l.a)(t).call(this))).startTheGame=e.startTheGame.bind(Object(y.a)(e)),e.stopTheGame=e.stopTheGame.bind(Object(y.a)(e)),e}return Object(m.a)(t,e),Object(u.a)(t,[{key:"startTheGame",value:function(){this.props.startGame()}},{key:"stopTheGame",value:function(){this.props.stopGame()}},{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(x,{name:"Start",action:this.startTheGame}))}}]),t}(o.Component),J=Object(d.b)(null,{startGame:function(){return function(e){e({type:"START_THE_GAME"})}},stopGame:function(){return function(e){e({type:"STOP_THE_GAME"})}}})(U),z=function(){return a.a.createElement("div",null,a.a.createElement(K,null),a.a.createElement(J,null),a.a.createElement(F,null))},W={rows:20,columns:20},X=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(d.a,{store:_},a.a.createElement("div",{className:"App"},a.a.createElement(V,{board_size:W}),a.a.createElement(z,null)))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(X,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,1,2]]]);
//# sourceMappingURL=main.1403b2f2.chunk.js.map